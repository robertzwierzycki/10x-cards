---
import PublicLayout from "@/layouts/PublicLayout.astro";
import LoginForm from "@/components/auth/LoginForm";

// Check if user is already logged in
const user = Astro.locals.user;

// Redirect to dashboard if already authenticated
if (user) {
  return Astro.redirect("/");
}

// Get redirect query parameter if present
const redirectTo = Astro.url.searchParams.get("redirectTo") || "/";
---

<PublicLayout title="Zaloguj się - 10xCards" description="Zaloguj się do swojego konta 10xCards">
  <LoginForm client:load redirectTo={redirectTo} />
</PublicLayout>
